<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Pinball Simulation &middot; Georgios Kaleadis</title>
        <meta name="description" content="Take P2JS physics and Phaser, some state machines and entities. Et voilÃ : a pinball machine.">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.25" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Pinball Simulation">
<meta property="og:description" content="Take P2JS physics and Phaser, some state machines and entities. Et voilÃ : a pinball machine.">
<meta property="og:type" content="article">
<meta property="og:url" content="/post/pinball-simulation/">
        <link rel="stylesheet" href="/dist/application.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        
    </head>
    <body class="page-holder">
        
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-5010378-6', 'auto');
ga('send', 'pageview');
</script>


            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="2vc.org" href="/">2vc.org</a>
                            </h1>
                        
                        <a class="button-square" href="/index.xml"><i class="fa fa-rss"></i></a>
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/deluxee">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/georgiee">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                        
                        
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Contact" href="/page/contact/">Contact</a>
    </li>

    <li class="site-nav-item">
        <a title="About" href="/page/about/">About</a>
    </li>

    <li class="site-nav-item">
        <a title="Lab" href="/post/">Lab</a>
    </li>

                    </ul>
                </div>
            </header>
            <div class="page-holder__content">

<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Pinball Simulation</h1>
    
        <p class="post-description" itemprop="description">Take P2JS physics and Phaser, some state machines and entities. Et voilÃ : a pinball machine.</p>
    
    <p class="post-date">
        <span>Published <time datetime="2016-05-01" itemprop="datePublished">Sun, May 1, 2016</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="" itemprop="url" rel="author">Georgios Kaleadis</a>
            </span>
        </span>
    </p>
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    

<h2 id="introduction">Introduction</h2>

<ul>
<li>P2JS physics engine. Today I would use Box2D as it supports CCD which was a HUGE problem, there was a lot of tunneling on weak system.</li>
<li>Created a custom state machine to manage the state of all entities</li>
<li>Created a custom action system to trigger different predefined actions like light on, ball reset, start mission, trigger sound and so on.</li>
<li>A zone system so that only <sup>1</sup>&frasl;<sub>4</sub> of the involved table physics is active at one moment. only zones near the ball are activated.</li>
<li>The ramp on the right is actually an elevated area which is kind of a problem with a 2D physics engine. I placed some sensors on the entries so I can toggle between the base level and the ramp level. I use the physic bits of the engine (like in Box2D) to toggle the collisions pairs. This allows the ball to roll beneath the ramp when the ramp is not activated. Works like a charme.</li>
<li>webgl &amp; canvas support</li>
<li>entities, actions, missions and assets are created from json files. So you could make your own pinball with the existing code- well in theory. I wouldn&rsquo;t hold my breath ðŸ™ƒ</li>
<li>Too bad but I wrote this back then in coffee script (oh WHY???ðŸ’©) and I used middleman as my building pipeline. I&rsquo;m not able to get the original files to run so I spare you the time.
The single compiled JS files are still readable.</li>
</ul>

<p>ðŸ‘»Attention. This is like other code on my lab so far a little dated and build very manual. Require JS, no npm versioning. ðŸ‘»</p>

<h1 id="running-example">Running example</h1>

<p>Looks weird?? Yeah sorry.ðŸ¤•
This was client work from some years ago. To make it public I had to clean it up, obfuscate the involved assets, remove all sounds (and replace it with one default sound). Also the dramatic music is missing.</p>

<div class="example-actions">
  <div class="example-actions__item">
    <a target="_blank" href="http://georgiee.github.io/lab-pinball-simulation/index.html">Open in new window</a>
  </div>


  
  <div class="example-actions__item">
    <iframe src="https://ghbtns.com/github-btn.html?user=georgiee&repo=lab-pinball-simulation&type=star&size=large"
  frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
  
  </div>

</div>

<div class="example-view js-example-view" data-src='http://georgiee.github.io/lab-pinball-simulation/index.html'>

  <div class='example-view__preview'>
    <div class='example-view__preview-image' style='background-image:url(/images/preview-pinball-simulation.png)'>
    </div>
    <button class='example-view__play-button js-play'>play</button>
  </div>

  <div class='example-view__iframe-holder'>
    <iframe class='example-view__iframe js-iframe' width='100%' height='100%'></iframe>
  </div>

</div>

<div class='lab-sources'>Based on <a href='https://github.com/photonstorm/phaser'>Phaser (v2.04, pretty old now)</a> and <a href='https://schteppe.github.io/p2.js/'>P2JS</a><br>

</div>

</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/pinball/">pinball</a>, 
            
                <a href="/tags/simulation/">simulation</a>
            
        </p>
    
    </div>
</footer>

        
    </article>
</div>

        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="2vc.org" href="/">2vc.org</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2017 / Georgios Kaleadis
                </p>
            </div>
        </footer>

        <script src="/js/jquery-1.11.3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
        <script src="/js/jquery.fitvids.js"></script>
        <script src="/js/scripts.js"></script>

        <script src="/dist/application.js"></script>
    </body>
</html>

